# Tests

# Test settings
# number of bins for linear (non-2pt) splitting
linear_bins : 20
# columns over which to iterate linear splitting
# reuse cached intermediate results? This will make subsequent runs much faster.
load_cache  : True
# output directory
output      : . 
# If False, testsuite will terminate if the output directory already exists.
output_exists : True 

use_mpi       : False

# Tests to run
# Calculate general statistics for all columns
general_stats : [u'R11', u'R12', u'R21', u'R22', u'covmat_0_0', u'covmat_0_1', u'covmat_1_1', u'e1', u'e2', u'flux_err_i', u'flux_err_r', u'flux_err_z', u'flux_i', u'flux_r', u'flux_z', u'mask_frac', u'psf_e1', u'psf_e2', u'psf_size', u'size', u'size_err', u'size_ratio', u'snr']
# Do linear mean value splits by 'x' column list
split_mean    : ['e1','e2','snr','psf_e1','psf_e2','size','psf_size','size_ratio','mask_frac','flux_i']
split_x       : ['e1','e2','snr','psf_e1','psf_e2','size','psf_size','size_ratio','mask_frac','flux_i']
split_by_w    : False
# Calculte histograms
hist_1d       : [u'R11', u'R12', u'R21', u'R22', u'covmat_0_0', u'covmat_0_1', u'covmat_1_1', u'e1', u'e2', u'flux_err_i', u'flux_err_r', u'flux_err_z', u'flux_i', u'flux_r', u'flux_z', u'mask_frac', u'psf_e1', u'psf_e2', u'psf_size', u'size', u'size_err', u'size_ratio', u'snr']

# Data source
# calibration type
cal_type   : 'mcal'
# Type of data source. Currently only works for 'hdf5'
source     : 'hdf5'
# name of file
filename   : '/global/cscratch1/sd/troxel/cats_des_y3/y3v02-mcal-001-combined-blind-v1.h5'
# For hdf5, group name
group      : 'catalog'
# if metacalibrating, include array of five tables: unsehared, 1p, 1m, 2p, 2m
# else if classic calibration, include table name (still as a list of length one)
table      : ['unsheared', 'sheared_1p', 'sheared_1m', 'sheared_2p', 'sheared_2m']
# shearing factor for metacal
dg         : 0.1

# Selection 
# columns with which to mask the catalog
select_cols : ['snr','snr','size_ratio','flags']
# expressions by which to mask (must match 1-1 the list of select_cols)
# select_exp   : ['5<col','col<500','col>0.25','col==0']
select_exp   : ['10<col','col<100','col>0.5','col==0']

# Catalog dicts
# len 2 array with column names for ellipticity
e           : ['e1','e2'] # Must exist at least as an empty list
# len 2 array with column names for shear response (or m)
Rg          : ['R11','R22']
# len 2 array with column names for c (additive correction)
# c           : None
# column name for weight
# w           : None


# Pretty name dicts

# 
